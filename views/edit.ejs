<!DOCTYPE html>
<html lang="en">

<%- include('./partials/head.ejs', {pageTitle: 'Create' }); %>

    <body>

        <%- include('./partials/header.ejs') %>

            <!-- Cambiar las <p> por <div> para mejor formateo y corregirlo en CSS    --------------------------------------------------------------------->

            <main class="mainPanel">
                <form action="/products/edit/<%=product.id%>?_method=PUT" method="POST" class="formPanel"
                    enctype="multipart/form-data" id="formularioEdit">
                    <section class="newProduct">
                        <h2>MODIFICAR PRODUCTO</h2>
                        <h2>
                            <%=product.name%>
                        </h2>
                        <p>
                            <label class="formlabel">Nombre:</label>
                        </p>
                        <p>
                            <input type="text" name="name" id="name" value="<%=product.name%>">
                        <div class="errors">
                            <% if(locals.errors && errors.name) { %>
                                <%= errors.name.msg %>
                                    <% } %>
                        </div>
                        <div id="nameError" class="errors-front">

                        </div>
                        </p>
                        <p>
                            <label class="formlabel">Descripcion:</label>
                        </p>
                        <p>
                            <input type="text" name="description" id="description" value="<%=product.description%>">
                        <div class="errors">
                            <% if(locals.errors && errors.description) { %>
                                <%= errors.description.msg %>
                                    <% } %>
                        </div>
                        <div id="descriptionError" class="errors-front">

                        </div>
                        </p>
                        <p>
                            <label class="formlabel" for="image">Imagen:</label>
                        </p>
                        <p>
                            <input type="file" accept=".jpg, .png, .jpeg" name="image" id="image">
                        <div class="errors">
                            <% if(locals.errors && errors.image) { %>
                                <%= errors.image.msg %>
                                    <% } %>
                        </div>
                        </p>
                        <p>
                            <label class="formlabel">Estado:</label>
                        </p>
                        <p>
                            <input type="text" name="status" id="status" value="<%=product.status%>">
                        <div class="errors">
                            <% if(locals.errors && errors.status) { %>
                                <%= errors.status.msg %>
                                    <% } %>
                        </div>
                        </p>
                        <p>
                            <label class="formlabel">Precio:</label>
                        <p>
                            <input type="text" name="price" id="price" value="<%=product.price%>">
                        <div class="errors">
                            <% if(locals.errors && errors.price) { %>
                                <%= errors.price.msg %>
                                    <% } %>
                        </div>
                        </p>
                        <p>
                            <label class="formlabel">Descuento:</label>
                        <p>
                            <input type="text" name="discount" id="discount" value="<%=product.discount%>">
                        <div class="errors">
                            <% if(locals.errors && errors.discount) { %>
                                <%= errors.discount.msg %>
                                    <% } %>
                        </div>
                        </p>
                        <p class="botonesPanel">
                            <button type="reset" class="botonPanel">BORRAR</button>
                            <button type="submit" class="botonPanel">MODIFICAR</button>
                        </p>
                    </section>
                </form>
                <form action="/products/delete/<%=product.id%>?_method=DELETE" method="POST" class="formPanel">
                    <p class="botonesPanel">
                        <button type="submit" class="botonPanel">ELIMINAR PRODUCTO</button>
                    </p>
                </form>
            </main>

            <%- include('./partials/footer.ejs') %>

                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
                    crossorigin="anonymous">
                    </script>
                    <script src="/js/ValidateEditFrontend.js"></script>
    </body>

</html>